'use client'; 

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import Link from 'next/link';
import { signIn } from 'next-auth/react';
import FloatingLabelInput from '@/app/ui/FloatingLabelInput';
import { ChevronUpIcon, EyeIcon, EyeSlashIcon, FingerPrintIcon } from '@heroicons/react/24/outline';


export default function LoginPage() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [message, setMessage] = useState('');
  const [isSuccess, setIsSuccess] = useState(false);
  const [loading, setLoading] = useState(false);
  const router = useRouter();

  const [showPassword, setShowPassword] = useState(false);

  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {
    event.preventDefault();
    setMessage(''); 

    setLoading(true);

    try {
      const result = await signIn('credentials', {
        redirect: false, // Prevent NextAuth from redirecting automatically
        email,
        password,
      });

      if (result?.error) {
        // Handle login error
        setLoading(false);
        setMessage('Email ou mot de passe incorrect.');
        setIsSuccess(false);
      } else {
        // Login successful
        setMessage('Connexion réussie. Redirection...');
        setIsSuccess(true);
        // Redirect to home page on successful login
        setTimeout(() => {
          router.push('/');
        }, 1500);
      }
    } catch (error) {
      console.error('Erreur lors de la soumission du formulaire de connexion:', error);
      setMessage('Une erreur est survenue. Veuillez réessayer plus tard.');
      setIsSuccess(false);
    }
  };

  return (
    <div className="absolute inset-0 bg-[rgb(248,248,236)] min-[500px]:bg-[#f5f5dc]/65 dark:bg-[#222222]/65 max-[500px]:dark:bg-[#1E1E1E] backdrop-blur-sm min-h-screen overflow-y-auto max-[500px]:pt-0 max-[1025px]:py-10 flex items-start min-[1025px]:items-center justify-center z-10000 transition-opacity duration-500 ease-in-out">
      <div className="relative min-[500px]:drop-shadow-lg max-w-[95%] max-[769px]:w-md w-5xl mx-auto transform transition-transform duration-500 min-[500px]:hover:drop-shadow-2xl group min-[500px]:dark:hover:drop-shadow-[0px_1px_1px_rgba(255,_255,_255,_0.4)] min-[500px]:dark:drop-shadow-[0px_15px_15px_rgba(0,0,0,_0.6)]">
        <div className="flex flex-col min-[769px]:flex-row items-center min-h-120  justify-evenly gap-6 min-[800px]:gap-10 bg-[rgb(248,248,236)] dark:bg-[#1E1E1E] dark:text-white/75 p-2 max-[500]:pt-4 min-[500px]:p-6 lg:p-10 xl:p-12 min-[500px]:[clip-path:var(--clip-path-squircle-60)]" >      
          <div className="relative max-w-sm flex-1 w-full flex flex-col items-center justify-center">
            <Link href="/events" className="fixed top-4 right-4 cursor-pointer" title="Page d'accueil">
              <span className="relative inline-flex rounded-full p-3 transition-colors duration-300 ease-in-out  hover:bg-black/15 group overflow-hidden place-content-center before:content-[''] before:absolute before:w-1.5 before:h-1.5 before:rounded-full before:bg-[#0088aa] before:left-[calc(50%-3px)] before:-bottom-4 before:transition-all before:duration-300 before:ease-in-out hover:before:bottom-2 [&>svg]:transition-transform [&>svg]:duration-300 [&>svg]:ease-in-out hover:[&>svg]:-translate-y-1.5">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" className="size-6">
                  <path fill="#ff952a" d="M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z" />
                  <path fill="#0088aa" className="group-hover:[fill:currentColor]" d="m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z" />
                </svg>
              </span>
            </Link>
            <Link href="/" className="max-md:w-25 max-md:h-16 max-[820px]:w-40 max-[820px]:h-32 w-55 h-38 " title="eventribe, plus proches des événements à venir">
              <svg width="220" height="152" viewBox="0 0 1334 811" className='max-md:w-25 max-md:h-16 max-[820px]:w-40 max-[820px]:h-32 group' xmlns="http://www.w3.org/2000/svg">
                <path fill="#ff952a" d="m 821.5,798.60118 c -14.11531,-4.46409 -23.27569,-14.02989 -28.25314,-29.50356 -2.18594,-6.79555 -2.3905,-8.81165 -1.93771,-19.09762 0.60401,-13.72105 2.75165,-24.33482 10.25513,-50.68149 C 808.08779,676.4128 811.597,659.98459 812.52636,648 c 1.69021,-21.79619 -6.03624,-42.47453 -18.8249,-50.38115 -4.16874,-2.57733 -5.7247,-2.94986 -12.48193,-2.98845 -12.23388,-0.0698 -23.63991,5.13499 -35.43898,16.17164 -9.39261,8.78569 -14.33582,18.89338 -23.81595,48.69796 -2.27424,7.15 -5.55386,15.7 -7.28804,19 -3.72171,7.08209 -11.5614,15.29481 -17.17656,17.99383 -4.90003,2.35528 -16.89962,3.18945 -21.94197,1.52532 -11.63549,-3.84006 -16.55233,-17.00296 -11.66138,-31.21875 3.30328,-9.60115 7.29229,-15.05494 26.77334,-36.60464 19.04526,-21.06762 24.06588,-30.95924 23.11365,-45.53846 C 712.58365,566.28467 699.38532,557.60641 680,562.44367 c -22.00026,5.48976 -40.27156,17.06643 -63.39782,40.16875 -11.82236,11.81012 -18.94834,20.27587 -36.10026,42.88758 -25.40894,33.49709 -37.20717,46.97219 -50.10601,57.22752 -19.13065,15.20998 -36.00425,22.40503 -52.89562,22.55515 -9.68812,0.0861 -16.72134,-1.47656 -26.00029,-5.77682 -9.50211,-4.40368 -14.74629,-9.22941 -18.65262,-17.16429 -8.07592,-16.40454 -2.70333,-36.29989 14.48652,-53.64525 C 462.16598,633.73004 479.3315,623.72939 530,600.53494 567.80369,583.2296 581.65563,575.18221 599.15033,560.36152 614.99891,546.93535 621,538.11959 621,528.26382 c 0,-9.0206 -4.50451,-15.17467 -15.5,-21.17614 l -4,-2.18325 4,0.51428 c 21.35837,2.74601 58.35443,6.37444 89.5,8.77781 22.69705,1.75143 114.57463,1.74796 134,-0.005 78.38089,-7.0734 133.63184,-22.35568 171.0422,-47.30986 10.8206,-7.2178 22.6874,-18.6397 28.4394,-27.37323 23.2245,-35.26316 4.7259,-74.24907 -48.87316,-103.00071 -34.05519,-18.26789 -85.50507,-31.98617 -144.10844,-38.4242 -30.01501,-3.29737 -58.8773,-4.37202 -102.58155,-3.8195 -44.21658,0.559 -73.34645,2.50369 -117.41845,7.83878 -13.75,1.66449 -27.475,3.26879 -30.5,3.56512 -10.00374,0.97996 -40.98012,-4.45914 -46.68549,-8.19744 -8.79167,-5.76052 6.24629,-8.79938 56.68549,-11.45496 37.18838,-1.95794 48.08695,-3.74053 46.59764,-7.62161 -2.00477,-5.22435 -12.11861,-17.87759 -26.61126,-33.29284 -21.78487,-23.1717 -26.62543,-29.13953 -30.85276,-38.03773 -6.59149,-13.87458 -4.83792,-24.69923 4.86638,-30.03974 15.62805,-8.6005 37.34035,5.20194 58.95335,37.47646 12.99886,19.41108 20.41832,28.74093 30.27748,38.07345 C 691.64994,265.27576 706.45303,273 717.3772,273 c 5.50943,0 12.51797,-3.6143 15.39127,-7.93726 2.14227,-3.22312 2.26738,-4.29197 2.00807,-17.15608 -0.26855,-13.32244 -0.20649,-13.79376 2.14777,-16.31274 3.15736,-3.37825 5.88918,-3.2751 10.67565,0.4031 2.14502,1.64835 5.92504,4.56244 8.40004,6.47575 7.48089,5.78311 13.85561,4.21273 18.65907,-4.59659 1.59948,-2.93337 1.83033,-5.67145 1.76015,-20.87618 -0.0971,-21.02757 -1.20569,-27.99777 -9.98733,-62.79279 -9.62514,-38.13723 -9.89906,-39.85058 -9.86512,-61.70721 0.034,-21.920819 1.55134,-29.789385 8.54345,-44.305389 8.83879,-18.34984 27.33317,-29.569718 46.00319,-27.908505 19.70033,1.752887 32.83663,20.129023 35.89573,50.213894 1.58165,15.554773 0.0282,30.061194 -7.0142,65.5 -7.66181,38.55575 -8.30019,43.91074 -7.74889,65 0.50189,19.19912 1.87709,26.32643 6.55087,33.95138 4.41124,7.19662 12.56488,10.75943 20.19256,8.82332 5.32137,-1.35071 9.86662,-6.53703 15.42049,-17.59544 7.33184,-14.59857 11.69365,-18.07564 16.56459,-13.2047 2.50325,2.50325 2.81003,4.09736 3.37274,17.52544 0.4906,11.70737 2.19587,17.64996 5.58531,19.46393 4.01689,2.14978 9.36345,1.17324 16.58326,-3.02889 16.27816,-9.47433 23.45462,-20.51631 35.69843,-54.92698 8.22748,-23.12292 12.25046,-31.69032 18.60538,-39.6223 5.15092,-6.42918 15.10802,-13.7161 20.96479,-15.3427 6.6011,-1.83331 15.42693,-1.28977 20.30823,1.25069 6.6222,3.44652 9.1726,8.96812 8.6402,18.70625 -0.7354,13.45285 -6.3988,22.05626 -32.20443,48.92256 -14.43458,15.02789 -16.50689,17.73154 -21.32512,27.82188 -3.50721,7.3448 -3.70335,8.2852 -3.70335,17.75556 0,9.01884 0.2602,10.44258 2.65194,14.51075 7.30733,12.4292 24.62905,12.70764 45.10856,0.72509 5.1187,-2.99494 11.5132,-8.48364 21.8278,-18.73584 16.9612,-16.85843 28.2253,-30.74696 47.4457,-58.5 23.3547,-33.72278 33.2211,-46.36753 48.489,-62.1435 28.2509,-29.191062 55.0359,-41.840522 79.0905,-37.35122 12.4366,2.321045 25.7157,11.908822 30.1379,21.76016 3.4268,7.63372 2.9757,19.45003 -1.1429,29.94312 -5.6447,14.38128 -16.9026,29.39921 -29.039,38.73797 -7.3392,5.64741 -18.965,12.6458 -44.0695,26.52871 -52.4088,28.98229 -70.8196,41.56578 -89.4351,61.1275 -15.8467,16.65215 -23.606,31.76931 -22.1503,43.15481 0.8389,6.56109 6.0544,14.53988 12.1387,18.56996 10.2931,6.81789 22.2261,6.67098 58.4467,-0.71956 13.475,-2.74947 28.1,-5.28759 32.5,-5.64025 18.5232,-1.48467 36.8585,7.07487 39.0936,18.25017 0.5127,2.5636 0.01,3.71576 -3.1511,7.21413 -4.8144,5.32895 -14.3094,9.87045 -41.1353,19.67531 -33.1651,12.12179 -45.3233,18.44068 -56.9341,29.58993 -7.9606,7.64417 -10.7452,13.69806 -10.7187,23.30276 0.034,12.27833 5.502,23.55146 18.7586,38.67368 24.5565,28.01247 70.1372,60.35744 142.087,100.82771 21.9027,12.31982 29.3921,17.31381 37.0653,24.71534 18.2541,17.60796 19.0778,33.91838 2.134,42.25976 -12.0831,5.94849 -25.1378,5.91017 -43.345,-0.12723 -16.4641,-5.4594 -28.9329,-13.82217 -60.8543,-40.81466 -34.0032,-28.75283 -66.5047,-44.2829 -103.8662,-49.62983 -20.8356,-2.98187 -36.2088,0.50417 -45.9476,10.41914 -8.7067,8.86426 -11.5894,21.52375 -8.2842,36.38033 5.018,22.55473 18.8107,39.21721 56.1193,67.79576 10.4112,7.975 21.9966,17.38451 25.7453,20.91002 21.5703,20.28596 29.6861,41.082 23.654,60.61168 -4.7893,15.50605 -22.4293,24.94587 -41.8938,22.41893 -11.6692,-1.51493 -24.1203,-8.13733 -34.5883,-18.39654 -13.525,-13.25514 -20.3298,-25.42505 -31.9487,-57.13772 -12.663,-34.56266 -19.04984,-47.20105 -30.57737,-60.50745 -13.17817,-15.21176 -31.8228,-24.15432 -43.69493,-20.95749 -6.12415,1.64907 -10.22405,6.33696 -13.59454,15.54425 -5.01126,13.68942 -9.54688,15.59474 -20.40976,8.57372 -10.36272,-6.69775 -19.95127,-8.64835 -29.49053,-5.99927 -4.68752,1.30173 -10.2403,6.07403 -12.7177,10.93013 -6.18185,12.11743 -6.63136,41.17121 -1.03674,67.00974 12.97824,59.93955 13.59915,68.64257 6.04844,84.77806 -5.14401,10.99252 -16.90467,20.3433 -29.13133,23.16205 -5.94463,1.37048 -16.50967,1.20304 -21.38534,-0.33893 z M 260.27215,609.56314 C 246.32524,606.18363 233.12646,596.0684 227.37217,584.34937 224.89332,579.30102 224.5,577.33599 224.5,570 c 0,-7.08368 0.41656,-9.3225 2.5,-13.4362 6.73737,-13.30278 23.24703,-22.94128 41.5,-24.22808 14.94881,-1.05387 26.7378,2.93477 35.10131,11.87605 6.3932,6.83484 8.67563,12.49795 9.18443,22.78823 0.49608,10.03283 -1.75821,18.10646 -7.44983,26.68124 -9.29787,14.00785 -27.02074,20.25395 -45.06376,15.8819 z m -9.53458,-22.09188 c 5.10022,-3.57233 3.72534,-14.29551 -2.48975,-19.41852 -4.39525,-3.62293 -8.35432,-3.92817 -11.20886,-0.86418 -4.24439,4.55581 -1.24681,15.88478 5.25138,19.84693 3.87035,2.35988 5.57466,2.4478 8.44723,0.43577 z M 1242,340.06487 c -4.7994,-1.46521 -10.8265,-5.02879 -12.8448,-7.59472 -6.005,-7.63412 -6.3248,-15.80891 -1.0328,-26.39924 5.4784,-10.96318 17.2595,-20.4629 31.8894,-25.71402 18.6506,-6.69431 41.1275,-1.50724 48.581,11.21124 7.5774,12.92982 -1.8864,30.56678 -21.6175,40.2869 -14.6681,7.22596 -35.6515,11.05629 -44.9753,8.20984 z m 40.2978,-46.07509 c 6.6671,-2.49448 10.6124,-6.3155 9.0706,-8.78472 -2.9034,-4.64957 -11.9521,-5.25221 -20.7078,-1.37912 -7.659,3.38793 -8.3685,9.0441 -1.3875,11.06126 4.9638,1.43431 7.2054,1.27986 13.0247,-0.89742 z m -833.55188,-6.02123 c -9.79846,-2.45084 -20.58326,-10.42925 -25.56295,-18.91103 -5.42415,-9.23881 -2.91882,-20.94927 5.61744,-26.25711 5.55688,-3.45527 16.62374,-3.27317 24.46784,0.40262 6.5497,3.06923 15.54363,11.52081 18.48713,17.37234 5.24004,10.41692 2.77585,21.51296 -5.75755,25.92575 -3.68399,1.90507 -12.50313,2.65521 -17.25191,1.46743 z M 318.25067,239.45486 c -11.65837,-3.13933 -21.43366,-9.9417 -28.2646,-19.66861 C 282.95692,209.7771 280.5,201.91945 280.5,189.44814 c 0,-9.6105 0.16564,-10.38702 3.77234,-17.68468 7.95359,-16.09299 24.45569,-24.62349 45.50646,-23.52384 8.17492,0.42704 10.1805,0.93034 16.85801,4.23054 17.92229,8.85768 28.65227,26.8069 28.71207,48.02984 0.0419,14.88149 -5.58753,25.83935 -17.0375,33.16381 -10.16771,6.5042 -27.89544,9.06687 -40.06071,5.79105 z m -16.47383,-35.71732 c 5.44057,-5.79122 8.74814,-20.58678 6.27645,-28.07608 -2.84649,-8.62493 -8.91924,-7.70793 -13.72165,2.072 -2.43796,4.96482 -2.83164,6.95441 -2.83164,14.31052 0,6.49531 0.42514,9.19282 1.77305,11.25 2.19019,3.34265 5.61254,3.52116 8.50379,0.44356 z m 228.21615,-52.76333 c -29.3957,-3.44197 -64.95454,-35.59675 -75.0103,-67.829545 -6.71333,-21.518946 2.88363,-45.501491 21.79254,-54.459013 6.54022,-3.098228 7.09525,-3.184842 20.22477,-3.156135 12.27786,0.02684 14.11679,0.273895 20.31322,2.728982 12.91645,5.117624 25.86592,15.69768 34.14113,27.894193 5.06912,7.471176 11.82618,21.240192 14.97362,30.51208 14.13525,41.640288 -1.05518,68.452088 -36.43498,64.309438 z M 491.82822,63.978553 c 5.301,-2.280428 11.49306,-7.98974 12.993,-11.98002 1.29184,-3.436691 -0.6257,-8.795545 -4.05778,-11.340087 -6.81031,-5.049151 -21.86164,-2.296191 -30.3812,5.556868 -8.52415,7.857285 -7.60963,16.576184 2.09743,19.996572 3.44787,1.214894 14.22446,-0.02901 19.34855,-2.233333 z" />
                <path fill="#0088aa" className="group-hover:[fill:currentColor]" d="M 54,483.50701 C 37.383879,479.7539 21.947921,467.73176 14.830195,453 10.097028,443.20363 8.5939772,436.49677 8.6672648,425.5 8.7812341,408.39897 13.857268,396.21209 25.999771,383.88697 c 11.008593,-11.17416 23.932634,-16.72862 39.819547,-17.11352 30.366779,-0.73571 54.470272,19.98513 58.227822,50.0562 0.45843,3.66869 0.57419,8.58285 0.25726,10.92035 L 123.72815,432 H 92.409389 61.090626 l -0.675061,-3.59839 c -0.706415,-3.76551 -0.0222,-13.61103 1.068546,-15.3759 C 61.8525,412.42964 66.536908,412 72.667425,412 h 10.549391 l -0.66024,-2.63061 c -1.733188,-6.90557 -7.715008,-10.89689 -15.246637,-10.17319 -8.351688,0.80249 -13.541425,6.32817 -16.02727,17.06474 -3.14494,13.58327 2.083749,28.38333 11.435212,32.36794 4.922284,2.09736 7.626015,1.6774 13.154957,-2.04331 l 5.073817,-3.41442 10.276673,12.52082 c 13.385122,16.30808 12.496362,14.8553 10.462642,17.10253 -2.315845,2.55899 -10.280192,6.82201 -17.393262,9.30998 C 76.598769,484.79562 62.578863,485.44473 54,483.50701 Z m 218.48991,0.47653 C 250.84388,479.67962 234.67775,464.98665 227.39723,443 c -1.37339,-4.14755 -1.80708,-8.4508 -1.76366,-17.5 0.0499,-10.39295 0.41647,-13.00441 2.73755,-19.5 7.38725,-20.67341 25.20404,-35.71371 45.62888,-38.51826 20.50235,-2.81519 37.35805,2.47015 50.42239,15.81063 3.89268,3.97497 8.28276,9.47427 9.75572,12.22067 C 338.33472,403.2632 341,414.28742 341,423.7299 V 432 h -31.44098 c -23.90654,0 -31.62428,-0.29658 -32.20589,-1.23763 -1.21538,-1.96653 -0.85551,-14.03663 0.49231,-16.51237 1.14978,-2.11196 1.86695,-2.25 11.68974,-2.25 5.75565,0 10.46482,-0.23945 10.46482,-0.53212 0,-1.83878 -3.15414,-7.34776 -5.38482,-9.40506 -1.99305,-1.83814 -4.0525,-2.53627 -8.37888,-2.84031 -5.11746,-0.35964 -6.17727,-0.0818 -9.82378,2.57573 -6.57937,4.79487 -8.8589,10.65159 -8.83592,22.70176 0.0197,10.35544 0.7975,13.0291 5.73139,19.70266 2.62735,3.55374 9.11727,6.12774 13.41653,5.3212 1.82503,-0.34238 4.91014,-2.02022 6.8558,-3.72853 3.00056,-2.63452 3.73275,-2.89269 4.8234,-1.70067 0.70721,0.77294 5.95648,7.19483 11.66504,14.27087 l 10.37922,12.86553 -2.97399,2.37961 c -10.761,8.61031 -30.71155,13.2107 -44.98408,10.37287 z m 470.72562,-0.93238 c -21.55692,-5.85447 -36.77162,-21.36613 -41.94559,-42.7643 -1.38745,-5.7381 -1.69722,-14.93825 -2.00462,-59.53686 L 698.90174,328 h 21.02308 21.02309 l 0.27604,51.75 c 0.26381,49.45455 0.36476,51.92684 2.27605,55.7368 5.81054,11.58275 22.30869,11.31831 28.25,-0.45281 5.34901,-10.59762 -0.1974,-22.50627 -11.47489,-24.63766 -2.90324,-0.5487 -5.01103,-0.12647 -10.52511,2.10838 -1.63598,0.66305 -1.75,-0.76372 -1.75,-21.89772 V 368 h 8.36351 c 11.46546,0 17.65998,1.35506 27.08953,5.92586 19.61034,9.50575 32.51223,30.36885 32.51223,52.57414 0,25.28213 -16.3762,47.58961 -40.92572,55.74856 -8.5813,2.85197 -22.94419,3.2142 -31.82402,0.8026 z M 878,484.29542 C 857.28985,480.71488 840.52129,467.05681 832.82476,447.5 c -2.91531,-7.40779 -3.15339,-8.92533 -3.21612,-20.5 -0.10105,-18.64582 4.18091,-30.36512 15.31735,-41.92205 14.43447,-14.9795 32.9857,-20.94661 54.02158,-17.37636 11.42359,1.93883 20.71106,6.85134 29.30071,15.4983 11.30851,11.38397 16.70561,24.62124 16.73694,41.05011 L 945,432 h -31.53138 c -36.12432,0 -33.01861,0.96178 -32.89371,-10.18657 C 880.68099,412.3449 881.13627,412 893.52884,412 h 10.28396 l -1.06273,-3.46268 c -1.72808,-5.63062 -5.82892,-8.79639 -12.06437,-9.31348 -6.65266,-0.55169 -10.60966,1.30805 -14.6497,6.88516 -3.66315,5.05684 -5.45025,13.3926 -4.72583,22.04326 1.55993,18.6278 15.55963,27.46129 26.94157,16.99951 2.47041,-2.2707 2.87935,-2.36607 4,-0.93288 0.68654,0.87802 5.93229,7.31957 11.65722,14.31455 l 10.40896,12.71815 -2.40896,1.85272 c -4.74912,3.65253 -15.52672,8.69534 -21.97285,10.28103 -6.10978,1.50295 -16.10767,1.91774 -21.93611,0.91008 z M 168.51003,473.25 c -2.62766,-5.9125 -12.30591,-27.87747 -21.50722,-48.81105 -9.20131,-20.93358 -17.42923,-39.60858 -18.28426,-41.5 C 126.20385,377.37621 123,369.77573 123,369.37288 123,369.1678 131.71778,369 142.37285,369 h 19.37284 l 5.87716,14.6168 c 3.23243,8.03924 6.31826,14.60808 6.85739,14.59741 0.53914,-0.0107 3.71143,-6.47572 7.04955,-14.3668 L 187.5991,369.5 l 18.8145,-0.27248 18.8145,-0.27249 -0.61742,2.45999 c -0.33957,1.35299 -1.9232,5.30061 -3.51917,8.77248 -2.87803,6.26089 -38.97184,87.02435 -43.82488,98.0625 -1.39043,3.1625 -2.85452,5.75 -3.25354,5.75 -0.39901,0 -2.87539,-4.8375 -5.50306,-10.75 z M 530.5,482.83916 c -10.05963,-0.97096 -18.12956,-3.84527 -26.72172,-9.51762 -11.13987,-7.35429 -17.42133,-15.97765 -21.67587,-29.75722 L 479.6125,435.5 479.23019,381.75 478.84789,328 H 499.92395 521 v 21.5 21.5 h 9 9 v 22 22 h -9.13437 -9.13436 l 0.49023,6.85172 c 0.76444,10.68394 4.63895,15.37593 14.01805,16.97569 l 4.26045,0.72669 0.27041,21.40254 c 0.14873,11.7714 -0.0763,21.68427 -0.5,22.02861 -0.42373,0.34434 -4.37041,0.2786 -8.77041,-0.14609 z M 359.0082,451.25 c 0.0102,-38.39447 0.79348,-46.26406 5.57807,-56.04624 4.75116,-9.71383 13.45891,-18.96685 21.63879,-22.99379 25.37561,-12.49237 54.82293,-3.16222 66.30079,21.00689 5.1787,10.90486 6.43056,22.35419 6.45463,59.03314 L 459,482 h -21 -21 v -34.44424 -34.44423 l -2.37197,-2.75758 c -1.81217,-2.10677 -3.21223,-2.73377 -5.93224,-2.65667 C 400.28698,407.93564 400,409.29765 400,448.96788 V 482 H 379.5 359 Z M 561,446.94741 c 0,-39.49849 0.58818,-44.39302 6.75905,-56.24566 9.24662,-17.76034 27.91775,-26.5489 49.49095,-23.29553 l 4.75,0.71633 v 22.05535 22.05536 l -2.25,-0.65555 c -5.81438,-1.69405 -8.33208,-1.62196 -11.44739,0.32779 C 602.71348,415.40351 602,420.07614 602,453.1815 V 482 H 581.5 561 Z M 635,425.5 V 369 H 655.5 676 V 425.5 482 H 655.5 635 Z m 13.55782,-67.93492 c -5.84016,-2.1652 -8.79696,-4.67164 -11.30782,-9.58551 -6.73156,-13.17395 3.81522,-29.03633 19.25,-28.95203 6.56895,0.0359 16.00674,6.83709 18.43867,13.28756 2.49515,6.61818 0.31646,16.5146 -4.58226,20.81431 -5.6596,4.96755 -15.15328,6.89936 -21.79859,4.43567 z"/>
              </svg>
            </Link>
            <svg width="350" height="77" className="max-[820px]:w-70 h-auto" viewBox="0 0 765 170" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path  fill="#0088aa" className="group-hover:[fill:currentColor]" d="M 322.14107,133.88869 C 321.63788,132.57491 313.47802,112.6 304.00805,89.5 294.53809,66.4 286.55932,46.925167 286.27746,46.222594 c -0.40497,-1.009447 2.60162,-1.219215 14.33293,-1 L 315.4558,45.5 l 3.92097,13.267799 c 2.15653,7.297289 4.13845,13.050316 4.40426,12.784505 0.26581,-0.265812 2.36073,-6.236321 4.65538,-13.267799 L 332.6085,45.5 346.92205,45.221825 c 11.30124,-0.219633 14.20724,-0.0092 13.80839,1 -3.68833,9.332384 -36.90916,89.290225 -37.23265,89.613715 -0.24301,0.24301 -0.85353,-0.63307 -1.35672,-1.94685 z M 175.7315,132.96224 c -7.26519,-1.22151 -13.15575,-4.55186 -18.61356,-10.52357 -5.89758,-6.4529 -8.24294,-12.69509 -8.24294,-21.93867 0,-9.517911 2.3383,-15.536271 8.71034,-22.418836 7.36823,-7.958571 13.19861,-10.474429 24.41466,-10.535148 7.31908,-0.03962 9.28379,0.338892 14.14151,2.724452 6.54798,3.215625 13.20296,9.993366 15.98277,16.277587 1.07034,2.419668 2.22128,7.346626 2.55766,10.948797 l 0.61159,6.549398 -18.39677,-0.27312 L 178.5,103.5 l -0.32808,-2.87083 c -0.18045,-1.578955 -0.0594,-3.941455 0.26905,-5.249999 C 178.98656,93.205364 179.55436,93 185.01905,93 188.30857,93 191,92.586804 191,92.081787 c 0,-3.999989 -5.30518,-7.522859 -9.74137,-6.468696 -3.91283,0.929797 -5.9422,2.991483 -7.84253,7.967418 -2.40401,6.294825 -1.23533,12.800261 3.07362,17.109211 3.68955,3.68955 6.82618,4.17817 10.46406,1.6301 2.3557,-1.65 2.46947,-1.6006 6.3335,2.75 2.16409,2.4366 5.2459,6.084 6.84847,8.10533 l 2.91375,3.67516 -6.27475,2.99219 c -6.95096,3.31464 -13.82375,4.33356 -21.04325,3.11974 z M 390,133.00028 c -10.12646,-1.71855 -18.93715,-8.17174 -23.83873,-17.46013 -2.36632,-4.48414 -2.65973,-6.14332 -2.65973,-15.04015 0,-8.896831 0.29341,-10.556013 2.65973,-15.040146 3.26088,-6.179292 10.41405,-12.933169 16.66306,-15.732917 6.81602,-3.053786 19.82273,-3.003864 26.67567,0.102386 10.85503,4.92029 18.21419,15.373585 19.21335,27.291549 l 0.5806,6.925378 -18.39697,-0.27312 L 392.5,103.5 l -0.32808,-2.87083 c -0.18045,-1.578955 -0.0594,-3.941455 0.26905,-5.249999 C 392.98656,93.205364 393.55436,93 399.01905,93 403.20579,93 405,92.616769 405,91.722506 c 0,-2.252746 -2.87636,-5.474658 -5.46825,-6.125181 -3.3058,-0.829704 -9.04806,1.630374 -10.60765,4.544491 -3.81424,7.126981 -2.76864,17.128314 2.23047,21.334794 3.47459,2.92367 5.75196,3.1402 9.98802,0.94965 1.6738,-0.86555 3.13323,-1.42805 3.24319,-1.25 0.10995,0.17806 2.44158,3.02374 5.18138,6.32374 2.73981,3.3 5.55553,6.74822 6.25716,7.66272 1.12486,1.46613 0.53081,2.01797 -5.02431,4.66734 -6.9005,3.29101 -13.8484,4.34997 -20.80001,3.17022 z m 139,-0.11393 c -4.49812,-1.77563 -9.78779,-5.97263 -12.54857,-9.95644 -4.29534,-6.19817 -5.41838,-13.25976 -5.43581,-34.17991 L 511,70 h 12 12 v 19.3 c 0,13.67778 0.34957,19.64957 1.2,20.5 1.73846,1.73846 6.47589,1.48701 7.19301,-0.38179 C 543.72686,108.54823 544,99.323229 544,88.918213 V 70 h 12.08453 12.08453 l -0.34567,21.75 c -0.33826,21.2843 -0.4024,21.85706 -2.99523,26.75 -5.62524,10.61537 -13.77823,15.48121 -25.82816,15.41465 -4.125,-0.0228 -8.625,-0.48552 -10,-1.0283 z m 77.20323,0.0193 c -10.53834,-1.79596 -18.58109,-7.86521 -23.40344,-17.6608 C 579.89593,109.3463 579.5,107.57712 579.5,100.5 c 0,-7.062591 0.39833,-8.851175 3.27054,-14.685473 3.75241,-7.622222 8.28649,-12.018439 16.18383,-15.691763 4.57173,-2.126467 7.03837,-2.583265 14.04563,-2.601113 7.29672,-0.01859 9.30132,0.371863 14.16054,2.758131 9.42842,4.630108 15.93068,13.43683 17.93799,24.295372 C 646.90337,104.33843 647.55755,104 626.88035,104 h -17.98487 l 0.30226,-5.25 0.30226,-5.25 6.25,-0.297717 c 3.4375,-0.163745 6.25,-0.701151 6.25,-1.194237 0,-0.493085 -1.06668,-2.136612 -2.37041,-3.652282 -4.51845,-5.253014 -12.11681,-3.082081 -15.26761,4.362117 -4.95774,11.713389 4.66275,25.856089 13.41727,19.724189 1.22334,-0.85687 2.61414,-1.31697 3.09067,-1.02247 0.47652,0.29451 3.48824,3.74014 6.69271,7.65695 l 5.8263,7.12148 -2.44446,1.87887 c -5.38253,4.13715 -16.29841,6.26761 -24.74124,4.82877 z m 96.78117,-0.76877 c -4.81877,-2.57657 -7.18521,-6.99708 -7.13615,-13.33032 0.11444,-14.77462 18.51156,-20.026488 26.99025,-7.70497 3.19695,4.64592 2.73779,13.56777 -0.90132,17.51357 -4.97044,5.38932 -12.75478,6.83578 -18.95278,3.52172 z M 40,88.5 V 45 h 19.818499 c 23.3701,0 28.155979,0.974478 34.131119,6.949618 7.989442,7.989446 7.344332,22.857463 -1.343628,30.966549 l -2.588645,2.416166 2.741327,1.713425 c 8.146418,5.091794 10.709148,9.996974 10.727358,20.532662 0.0126,7.25963 -0.29278,8.57457 -3.01247,12.97356 -1.856272,3.00246 -4.885383,6.04445 -7.834323,7.86764 -4.166093,2.5757 -5.99803,3.02939 -13.723564,3.39875 L 70,132.24464 V 121.12232 110 h 4.964816 C 79.81082,110 82,108.4868 82,105.13717 82,102.81771 78.673418,101 74.428571,101 H 70 V 89.706797 78.413593 l 3.25,-0.956796 c 2.531515,-0.745276 3.321242,-1.578115 3.572258,-3.767269 C 77.302218,69.503702 75.466783,68 69.877555,68 H 65 v 32 32 H 52.5 40 Z m 74,12 V 69 H 125.5 137 V 100.5 132 H 125.5 114 Z m 111.18427,10.25 c 0.36237,-18.88888 0.64004,-21.763602 2.49902,-25.872405 2.85358,-6.307083 8.43006,-12.227996 14.09603,-14.966671 5.82901,-2.817482 17.67189,-3.167405 23.36024,-0.690229 5.30024,2.308156 11.32778,8.1481 13.99419,13.558626 2.18396,4.431579 2.34806,6.083297 2.67951,26.970679 L 282.16634,132 H 270.58317 259 v -19 c 0,-17.666667 -0.14035,-19.140351 -2,-21 -2.40772,-2.407719 -4.32182,-2.535325 -6.42857,-0.428571 C 249.2507,92.892157 249,96.242424 249,112.57143 V 132 H 236.88831 224.77662 Z M 440,111.17814 c 0,-23.357646 0.72399,-27.159143 6.44547,-33.843405 1.83531,-2.144143 5.74839,-5.21427 8.69573,-6.822504 4.43869,-2.421996 6.56071,-2.931632 12.3588,-2.968147 9.34054,-0.05882 15.10924,2.261674 20.83206,8.379833 C 495.12647,83.187689 496,87.261175 496,111.6815 V 132 H 484.5 473 v -19 c 0,-17.666667 -0.14035,-19.140351 -2,-21 -2.40751,-2.40751 -2.91734,-2.446628 -5.77749,-0.443296 C 463.05541,93.074596 463,93.598171 463,112.5567 V 132 H 451.5 440 Z M 699.58684,86.75 c -0.338,-6.7375 -0.72081,-18.888135 -0.85069,-27.00141 L 698.5,44.99718 710.25,44.99859 722,45 v 27 27 h -10.89931 -10.8993 z M 119.5,60.839317 C 115.84234,58.827851 114.04523,55.649043 114.02224,51.15 114.00368,47.520818 114.5634,46.236602 117.4,43.4 120.02454,40.775458 121.6324,40 124.44966,40 131.73602,40 137,45.054264 137,52.05034 c 0,2.248633 -0.97264,4.122302 -3.4,6.54966 -2.84101,2.841012 -4.11518,3.395001 -7.75,3.369591 -2.3925,-0.01672 -5.25,-0.525348 -6.35,-1.130274 z" />
            </svg>
            <p className="text-gray-700 dark:text-white/55">Ravi de vous revoir, votre espace est prêt</p>
            <p className="mt-6 text-center max-[769px]:hidden text-gray-700 dark:text-gray-500">
              Pas encore de compte ?{' '}
              <Link href="/register" className="text-indigo-600 hover:underline">
                Inscrivez-vous ici
              </Link>
              .
            </p>
          </div>

          <div className="w-full max-w-[90%] min-[769px]:w-0 max-h-[95%] min-[769px]:h-70  border-t border-gray-300 dark:border-white/20 min-[769px]:border-r"></div>
          
          <div className="max-w-sm flex-1 w-full">
            {message && (
              <div className={`fixed w-full max-w-[85%] top-6 [769px]:top-1 left-1/2 transform -translate-x-1/2 transition-all ease-out py-2 px-4 text-center text-base rounded-lg ${isSuccess ? 'text-green-600 bg-green-100' : 'text-red-600 bg-red-100'}`}>
                {message}
              </div>
            )}

            <form className="space-y-6" onSubmit={handleSubmit}>

              <h1 className="flex flex-col items-center justify-center max-[920px]:text-2xl text-3xl font-bold text-gray-900 dark:text-white/85 mb-8">
                  <FingerPrintIcon className="w-auto h-16 mb-4 max-md:hidden"  />
                  <span>Connectez-vous</span>
              </h1>

              <FloatingLabelInput
                id="email"
                label="Adresse email"
                type="email"
                name="email"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                required
              />

              <div className="relative">
                <FloatingLabelInput
                  label="Mot de passe"
                  type={showPassword ? 'text' : 'password'}
                  id="password"
                  name="password"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  required
                  className="pr-10" 
                />
                <button
                  type="button" // Important to unsubmit the form
                  onClick={() => setShowPassword(!showPassword)} 
                  className="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 dark:text-white/70 cursor-pointer"
                  aria-label={showPassword ? "Cacher le mot de passe" : "Afficher le mot de passe"}
                  title={showPassword ? "Cacher le mot de passe" : "Afficher le mot de passe"}
                >
                  {showPassword ? (
                    <EyeSlashIcon className="h-5 w-5" />
                  ) : (
                    <EyeIcon className="h-5 w-5" />
                  )}
                </button>
              </div>

              <button
                type="submit"
                className="w-full px-5 py-2 rounded-full text-base font-medium transition-colors border-[0.5px] dark:text-zinc-600 shadow-sm shadow-[hsl(var(--always-black)/5.1%)] bg-[#F0EEE5] hover:bg-[#E8E5D8] hover:border-transparent duration-300 ease-in-out cursor-pointer"
                disabled={loading}
                  >
                    {loading ? (
                      <>
                        <span>Connexion</span>
                        <svg viewBox="0 0 50 50" className="inline-block w-6 h-6 ml-4">
                          <circle cx="25" cy="25" r="20" stroke="#ff952aff" strokeWidth="5" fill="none" strokeLinecap="round" strokeDasharray="30 70">
                            <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" from="0 25 25" to="360 25 25" />
                          </circle>
                        </svg>
                      </>
                    ) : (
                      <>
                        <span>Se connecter</span>
                        <ChevronUpIcon className="inline-block size-5 ml-2 rotate-90 animate-bounce group-hover:animate-none"/>
                      </>
                    )}
              </button>
              
            </form>
            
            <p className="min-[769px]:hidden mt-6 text-center text-gray-700 dark:text-gray-500">
              Pas encore de compte ?{' '}
              <Link href="/register" className="text-indigo-600 hover:underline">
                Inscrivez-vous ici
              </Link>
              .
            </p>
          </div>
        </div>
      </div>
    </div>
  );
}
